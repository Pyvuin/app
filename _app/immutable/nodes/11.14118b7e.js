import{s as P}from"../chunks/appwrite.67c106c1.js";import{S as Y,i as $,s as ee,e as x,b as N,H as z,h as d,o as te,q as Q,r as W,k,a as D,l as y,m as g,c as V,n as c,D as _,O as C,L as B,T as le,P as X,J as H,K as q,u as se}from"../chunks/index.0bd6f15b.js";import"../chunks/singletons.9a357d20.js";const oe=!1,ne=!0;async function re({params:o}){let e=o.id,t=await P.getTodos(e);return t=t.documents,{tid:e,todos:t}}const me=Object.freeze(Object.defineProperty({__proto__:null,csr:ne,load:re,ssr:oe},Symbol.toStringTag,{value:"Module"}));function J(o,e,t){const l=o.slice();return l[13]=e[t],l[14]=e,l[15]=t,l}function ae(o){let e;return{c(){e=Q("...")},l(t){e=W(t,"...")},m(t,l){N(t,e,l)},p:z,d(t){t&&d(e)}}}function ce(o){let e,t,l,n,r,u,f,T,w,I;function p(a,b){return a[2]?ie:ue}let E=p(o),v=E(o),h=o[0].todos,s=[];for(let a=0;a<h.length;a+=1)s[a]=K(J(o,h,a));return{c(){e=k("div"),t=k("div"),l=k("form"),n=k("input"),r=D(),u=k("button"),v.c(),f=D(),T=k("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=y(a,"DIV",{class:!0});var b=g(e);t=y(b,"DIV",{class:!0});var i=g(t);l=y(i,"FORM",{class:!0});var O=g(l);n=y(O,"INPUT",{type:!0,class:!0}),O.forEach(d),r=V(i),u=y(i,"BUTTON",{class:!0});var S=g(u);v.l(S),S.forEach(d),i.forEach(d),f=V(b),T=y(b,"DIV",{class:!0});var U=g(T);for(let A=0;A<s.length;A+=1)s[A].l(U);U.forEach(d),b.forEach(d),this.h()},h(){c(n,"type","text"),c(n,"class","w-full input input-bordered mr-4"),c(l,"class","flex w-full"),c(u,"class","btn btn-primary font-bold"),c(t,"class","flex w-full"),c(T,"class","flex mt-8 w-full flex-col items-center justify-center"),c(e,"class","flex flex-col mt-12 w-full")},m(a,b){N(a,e,b),_(e,t),_(t,l),_(l,n),C(n,o[4]),_(t,r),_(t,u),v.m(u,null),_(e,f),_(e,T);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(T,null);w||(I=[B(n,"input",o[5]),B(l,"submit",o[6]),B(u,"click",o[7])],w=!0)},p(a,b){if(b&16&&n.value!==a[4]&&C(n,a[4]),E!==(E=p(a))&&(v.d(1),v=E(a),v&&(v.c(),v.m(u,null))),b&5){h=a[0].todos;let i;for(i=0;i<h.length;i+=1){const O=J(a,h,i);s[i]?s[i].p(O,b):(s[i]=K(O),s[i].c(),s[i].m(T,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=h.length}},d(a){a&&d(e),v.d(),le(s,a),w=!1,X(I)}}}function ue(o){let e,t;return{c(){e=H("svg"),t=H("path"),this.h()},l(l){e=q(l,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var n=g(e);t=q(n,"path",{d:!0}),g(t).forEach(d),n.forEach(d),this.h()},h(){c(t,"d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","24"),c(e,"height","24"),c(e,"fill","currentColor"),c(e,"class","bi bi-plus"),c(e,"viewBox","0 0 16 16")},m(l,n){N(l,e,n),_(e,t)},d(l){l&&d(e)}}}function ie(o){let e;return{c(){e=k("span"),this.h()},l(t){e=y(t,"SPAN",{class:!0}),g(e).forEach(d),this.h()},h(){c(e,"class","loading loading-spinner loading-md")},m(t,l){N(t,e,l)},d(t){t&&d(e)}}}function K(o){let e,t=(o[13].desc==null?"":o[13].desc)+"",l,n,r,u,f,T,w,I,p,E,v,h,s,a,b,i;function O(){o[8].call(f,o[14],o[15])}function S(){return o[9](o[13])}function U(){return o[10](o[13])}function A(){return o[11](o[13])}return{c(){e=k("p"),l=Q(t),n=D(),r=k("div"),u=k("form"),f=k("input"),T=D(),w=k("div"),I=k("button"),p=H("svg"),E=H("path"),v=D(),h=k("input"),a=D(),this.h()},l(m){e=y(m,"P",{class:!0});var M=g(e);l=W(M,t),M.forEach(d),n=V(m),r=y(m,"DIV",{class:!0});var Z=g(r);u=y(Z,"FORM",{class:!0});var F=g(u);f=y(F,"INPUT",{type:!0,class:!0}),F.forEach(d),T=V(Z),w=y(Z,"DIV",{class:!0});var j=g(w);I=y(j,"BUTTON",{});var L=g(I);p=q(L,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var R=g(p);E=q(R,"path",{d:!0}),g(E).forEach(d),R.forEach(d),L.forEach(d),v=V(j),h=y(j,"INPUT",{type:!0,class:!0,name:!0,id:!0}),j.forEach(d),Z.forEach(d),a=V(m),this.h()},h(){c(e,"class","text-xs w-full text-left"),c(f,"type","text"),c(f,"class","w-full bg-transparent"),c(u,"class","w-full"),c(E,"d","M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"),c(p,"xmlns","http://www.w3.org/2000/svg"),c(p,"width","16"),c(p,"height","16"),c(p,"fill","currentColor"),c(p,"class","bi bi-trash3-fill ml-2 mr-8 hover:text-error"),c(p,"viewBox","0 0 16 16"),c(h,"type","checkbox"),c(h,"class","checkbox"),h.checked=s=o[13].complete,c(h,"name",""),c(h,"id",""),c(w,"class","flex"),c(r,"class","bg-slate-100 mt-0 m-4 p-4 rounded-md w-full flex items-center justify-between")},m(m,M){N(m,e,M),_(e,l),N(m,n,M),N(m,r,M),_(r,u),_(u,f),C(f,o[13].todo),_(r,T),_(r,w),_(w,I),_(I,p),_(p,E),_(w,v),_(w,h),N(m,a,M),b||(i=[B(f,"input",O),B(u,"submit",S),B(I,"click",U),B(h,"change",A)],b=!0)},p(m,M){o=m,M&1&&t!==(t=(o[13].desc==null?"":o[13].desc)+"")&&se(l,t),M&1&&f.value!==o[13].todo&&C(f,o[13].todo),M&1&&s!==(s=o[13].complete)&&(h.checked=s)},d(m){m&&d(e),m&&d(n),m&&d(r),m&&d(a),b=!1,X(i)}}}function de(o){let e;function t(r,u){return r[1]?ce:ae}let l=t(o),n=l(o);return{c(){n.c(),e=x()},l(r){n.l(r),e=x()},m(r,u){n.m(r,u),N(r,e,u)},p(r,[u]){l===(l=t(r))&&n?n.p(r,u):(n.d(1),n=l(r),n&&(n.c(),n.m(e.parentNode,e)))},i:z,o:z,d(r){n.d(r),r&&d(e)}}}let G=!1;function fe(o,e,t){let{data:l}=e,n,r=!1,u;te(async()=>{await P.getlogin()?t(1,n=!0):t(1,n=!1),t(3,u=await P.getsession()),t(3,u=u.name)});let f;P.client.subscribe(["databases.647f52807c7ace13086f.collections.648090765ca558f9430c.documents"],async s=>{let a=await P.getTodos(l.tid);t(0,l.todos=a.documents,l),t(2,r=!1)});function T(){f=this.value,t(4,f)}const w=()=>{t(2,r=!0),P.createTodo(l.tid,{todo:f,desc:u,complete:G,event:l.tid}).then(function(s){}),t(4,f="")},I=()=>{t(2,r=!0),P.createTodo(l.tid,{todo:f,desc:u,complete:G,event:l.tid}).then(function(s){}),t(4,f="")};function p(s,a){s[a].todo=this.value,t(0,l)}const E=s=>{s.complete,P.updateTodo(s.$id,{todo:s.todo,complete:s.complete})},v=s=>{t(2,r=!0),P.deleteTodo(s.$id)},h=s=>{s.complete,P.updateTodo(s.$id,{todo:s.todo,complete:!s.complete})};return o.$$set=s=>{"data"in s&&t(0,l=s.data)},[l,n,r,u,f,T,w,I,p,E,v,h]}class ve extends Y{constructor(e){super(),$(this,e,fe,de,ee,{data:0})}}export{ve as component,me as universal};
